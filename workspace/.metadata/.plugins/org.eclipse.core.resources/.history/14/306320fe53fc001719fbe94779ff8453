package com._520it.day23Task;

import java.util.ArrayDeque;
import java.util.Deque;

/*
 * 需求: 定义 Gun 类，存放有弹夹属性，弹夹容量是 5，再提供射击方法（打印出的子弹，若子弹没有了提示没有子弹）和装子弹的方法（装满子弹也是提示一下）。子弹是用 Integer 对象。
 * 
 * 分析: 更改手枪设计的特点,应该采用栈结构ArrayDeque来存储数据(子弹),
 */
public class GunDemo {
	public static void main(String[] args) {
		//测试
		Gun g = new Gun();
		//装弹测试
		g.add(1);
		g.add(2);
		g.add(4);
		g.add(5);
		g.add(6);
		g.add(6);
		g.add(7);
		
		//射击测试
		g.shooting();
		g.shooting();
		g.shooting();
		g.shooting();
		g.shooting();
		g.shooting();
		g.shooting();
		g.shooting();
	
	}
}

class Gun {
	private  Deque<Integer> deque; 
	private int size;   //子弹的数量
	private final int DEFAULT = 5;
	
	Gun(){
		deque = new ArrayDeque(DEFAULT);
	}
	Gun(int number){
		deque = new ArrayDeque(number);
	}
	
	//测试
//	public  void test(){
//		System.out.println(deque.size());
//		System.out.println(deque);
//		System.out.println(deque.pollLast());
//		System.out.println(deque.pollLast());
//	}
	
	//装子弹
	public void add(Integer i){
		if(size >= 5){
			System.out.println("子弹已经装满了");
			return;
		}
		deque.add(i);
		System.out.println(++ size + "号子弹已装好");
	}
	
	//射击方法
	public void shooting(){
		if(size == 0){
			System.out.println("没有子弹了");
			return;
		}
		System.out.println("射击出" + deque.pollLast() + "号子弹");
		size --;
	}
	
	
}

